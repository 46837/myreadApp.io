{"ast":null,"code":"import _objectSpread from \"/home/mohamed/Desktop/nd0191-c1-myreads-main/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar api = \"https://reactnd-books-api.udacity.com\";\nvar token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\nvar headers = {\n  Accept: \"application/json\",\n  Authorization: token\n};\nexport var get = function get(bookId) {\n  return fetch(\"\".concat(api, \"/books/\").concat(bookId), {\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.book;\n  });\n};\nexport var getAll = function getAll() {\n  return fetch(\"\".concat(api, \"/books\"), {\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.books;\n  });\n};\nexport var update = function update(book, line) {\n  return fetch(\"\".concat(api, \"/books/\").concat(book.id), {\n    method: \"PUT\",\n    headers: _objectSpread({}, headers, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: JSON.stringify({\n      shelf: shelf\n    })\n  }).then(function (res) {\n    return res.json();\n  });\n};\nexport var search = function search(query, maxResults) {\n  return fetch(\"\".concat(api, \"/search\"), {\n    method: \"POST\",\n    headers: _objectSpread({}, headers, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: JSON.stringify({\n      query: query,\n      maxResults: maxResults\n    })\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.books;\n  });\n};","map":{"version":3,"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","then","res","json","data","book","getAll","books","update","line","id","method","body","JSON","stringify","shelf","search","query","maxResults"],"sources":["/home/mohamed/Desktop/nd0191-c1-myreads-main/starter/src/BooksAPI.js"],"sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\n\nlet token = localStorage.token;\n\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.books);\n\nexport const update = (book, line) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query, maxResults }),\n  })\n    .then((res) => res.json())\n    .then((data) => data.books);\n"],"mappings":";AAAA,IAAMA,GAAG,GAAG,uCAAuC;AAEnD,IAAIC,KAAK,GAAGC,YAAY,CAACD,KAAK;AAE9B,IAAI,CAACA,KAAK,EAAEA,KAAK,GAAGC,YAAY,CAACD,KAAK,GAAGE,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;AAE9E,IAAMC,OAAO,GAAG;EACdC,MAAM,EAAE,kBAAkB;EAC1BC,aAAa,EAAER;AACjB,CAAC;AAED,OAAO,IAAMS,GAAG,GAAG,SAANA,GAAG,CAAIC,MAAM;EAAA,OACxBC,KAAK,WAAIZ,GAAG,oBAAUW,MAAM,GAAI;IAAEJ,OAAO,EAAPA;EAAQ,CAAC,CAAC,CACzCM,IAAI,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;EAAA,EAAC,CACzBF,IAAI,CAAC,UAACG,IAAI;IAAA,OAAKA,IAAI,CAACC,IAAI;EAAA,EAAC;AAAA;AAE9B,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAM;EAAA,OACjBN,KAAK,WAAIZ,GAAG,aAAU;IAAEO,OAAO,EAAPA;EAAQ,CAAC,CAAC,CAC/BM,IAAI,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;EAAA,EAAC,CACzBF,IAAI,CAAC,UAACG,IAAI;IAAA,OAAKA,IAAI,CAACG,KAAK;EAAA,EAAC;AAAA;AAE/B,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAM,CAAIH,IAAI,EAAEI,IAAI;EAAA,OAC/BT,KAAK,WAAIZ,GAAG,oBAAUiB,IAAI,CAACK,EAAE,GAAI;IAC/BC,MAAM,EAAE,KAAK;IACbhB,OAAO,oBACFA,OAAO;MACV,cAAc,EAAE;IAAkB,EACnC;IACDiB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,KAAK,EAALA;IAAM,CAAC;EAChC,CAAC,CAAC,CAACd,IAAI,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;EAAA,EAAC;AAAA;AAE9B,OAAO,IAAMa,MAAM,GAAG,SAATA,MAAM,CAAIC,KAAK,EAAEC,UAAU;EAAA,OACtClB,KAAK,WAAIZ,GAAG,cAAW;IACrBuB,MAAM,EAAE,MAAM;IACdhB,OAAO,oBACFA,OAAO;MACV,cAAc,EAAE;IAAkB,EACnC;IACDiB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEG,KAAK,EAALA,KAAK;MAAEC,UAAU,EAAVA;IAAW,CAAC;EAC5C,CAAC,CAAC,CACCjB,IAAI,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;EAAA,EAAC,CACzBF,IAAI,CAAC,UAACG,IAAI;IAAA,OAAKA,IAAI,CAACG,KAAK;EAAA,EAAC;AAAA"},"metadata":{},"sourceType":"module"}